{% extends "base.html" %} {% block title %}ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰{% endblock %} {% block
extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}" />
{% endblock %} {% block content %}
<div id="dashboard-content">
  {% if is_mock_mode %}
  <div
    style="background-color: #fff3f0; border-left: 4px solid #ff6b35; padding: 12px 16px; margin-bottom: 24px; border-radius: 4px; display: flex; align-items: center; gap: 12px;">
    <span style="font-size: 20px;">ğŸ“Œ</span>
    <div>
      <strong style="color: #ff6b35; font-size: 14px;">ãƒ¢ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰</strong>
      <p style="color: #666; margin: 4px 0 0 0; font-size: 13px;">ç¾åœ¨ã€ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦è¡¨ç¤ºã—ã¦ã„ã¾ã™</p>
    </div>
  </div>
  {% endif %}
  <h1>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h1>
  <div class="card">
    <div class="profile-container">
      <div>
        <img src="{{ profile.avatar_url or '' }}" alt="ã‚¢ãƒã‚¿ãƒ¼" class="profile-avatar" loading="lazy"
          onerror="this.style.display='none'" id="profile-avatar" />
      </div>
      <div>
        <h2 class="profile-name" id="profile-name">
          {{ profile.display_name or 'æœªè¨­å®š' }}
        </h2>
        {% if profile.username %}
        <p class="profile-username" id="profile-username">
          <strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼å:</strong> @{{ profile.username }}
        </p>
        {% endif %}
        <p class="profile-openid">
          Open ID:
          <code id="profile-openid">{{ profile.open_id or 'æœªå–å¾—' }}</code>
        </p>
        {% if profile.bio_description %}
        <p class="profile-bio" id="profile-bio">
          <strong>è‡ªå·±ç´¹ä»‹:</strong> {{ profile.bio_description }}
        </p>
        {% endif %} {% if profile.is_verified %}
        <p class="profile-verified" id="profile-verified">
          âœ“ èªè¨¼æ¸ˆã¿ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
        </p>
        {% endif %} {% if profile.profile_web_link %}
        <p class="profile-link" id="profile-link">
          <a href="{{ profile.profile_web_link }}" target="_blank">
            ğŸŒ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã‚’é–‹ã
          </a>
        </p>
        {% endif %}
      </div>
    </div>
  </div>

  <h2>çµ±è¨ˆæƒ…å ±</h2>
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-number" id="following-count">
        {{ profile.following_count }}
      </div>
      <div class="stat-label">ãƒ•ã‚©ãƒ­ãƒ¼æ•°</div>
    </div>
    <div class="stat-card">
      <div class="stat-number" id="follower-count">
        {{ profile.follower_count }}
      </div>
      <div class="stat-label">ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°</div>
    </div>
    <div class="stat-card">
      <div class="stat-number" id="likes-count">{{ profile.likes_count }}</div>
      <div class="stat-label">ã„ã„ã­æ•°</div>
    </div>
    <div class="stat-card">
      <div class="stat-number" id="video-count">{{ profile.video_count }}</div>
      <div class="stat-label">å‹•ç”»æ•°</div>
    </div>
    <div class="stat-card">
      <div class="stat-number" id="total-view-count">
        {{ total_view_count }}
      </div>
      <div class="stat-label">ç·å†ç”Ÿæ•°</div>
    </div>
    <div class="stat-card">
      <div class="stat-number" id="share-count">{{ total_share_count }}</div>
      <div class="stat-label">ç·ã‚·ã‚§ã‚¢æ•°</div>
    </div>
    <div class="stat-card">
      <div class="stat-number" id="avg-engagement-rate">
        {{ avg_engagement_rate }}%
      </div>
      <div class="stat-label">å¹³å‡ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ</div>
    </div>
  </div>

  <h2>æŠ•ç¨¿å‹•ç”»ä¸€è¦§</h2>
  <div class="dashboard-actions">
    <a href="{{ url_for('video_upload') }}" class="btn btn-primary">
      <span class="btn-icon">ğŸ“¤</span>
      <span class="btn-text">å‹•ç”»ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>
    </a>
  </div>

  <!-- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ãƒŠï¼ˆå‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã®ä¸‹ã«é…ç½®ï¼‰ -->
  <div id="pagination-container" style="display: none">
    <!-- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
  </div>

  <div id="videos-container">
    <div class="video-grid" id="video-grid">
      {% if videos %} {% for v in videos %}
      <div class="video-card">
        {% if v.best_image_url %}
        <div class="video-thumbnail">
          <img src="{{ v.best_image_url }}" alt="ã‚µãƒ ãƒã‚¤ãƒ«" class="video-cover" loading="lazy" />
        </div>
        {% endif %}
        <h3 class="video-title">{{ v.title or 'ã‚¿ã‚¤ãƒˆãƒ«ãªã—' }}</h3>
        <div class="video-meta">
          <div class="video-id">
            <strong>ID:</strong> <code>{{ v.id }}</code>
          </div>
          <div class="video-date">
            <strong>æŠ•ç¨¿æ—¥:</strong> {{ v.formatted_create_time }}
          </div>
        </div>
        <div class="video-stats">
          <div>
            <div class="video-stat-number">{{ v.view_count or 0 }}</div>
            <div class="video-stat-label">å†ç”Ÿæ•°</div>
          </div>
          <div>
            <div class="video-stat-number">{{ v.like_count or 0 }}</div>
            <div class="video-stat-label">ã„ã„ã­</div>
          </div>
          <div>
            <div class="video-stat-number">{{ v.comment_count or 0 }}</div>
            <div class="video-stat-label">ã‚³ãƒ¡ãƒ³ãƒˆ</div>
          </div>
        </div>
        <a href="{{ url_for('video_detail', video_id=v.id) }}" class="btn btn-small">è©³ç´°ã‚’è¦‹ã‚‹</a>
      </div>
      {% endfor %} {% else %}
      <div class="card empty-state">
        <p class="empty-state-title">å‹•ç”»ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</p>
        <p class="empty-state-description">
          â€» å…¬é–‹å‹•ç”»ãŒãªã„ã‹ã€å‹•ç”»ãŒå­˜åœ¨ã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
        </p>
      </div>
      {% endif %}
    </div>
  </div>
</div>

<!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º -->
<div id="loading-overlay" class="loading-overlay" style="display: none">
  <div class="loading-spinner">
    <div class="spinner"></div>
    <p>ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
  </div>
</div>
{% endblock %} {% block extra_js %}
<script src="{{ url_for('static', filename='js/utils/globals.js') }}"></script>
<script src="{{ url_for('static', filename='js/utils/common.js') }}"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}
